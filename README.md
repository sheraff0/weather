World Weather - Погода в мире _(демо)_
===
Простой и наглядный прогноз погоды в крупнейших городах мира.

Предназначен для демонстрационных целей (грейд Python Middle+).

Описание проекта
---
Сервис обеспечивает:
1. Ведение каталога городов.
2. Периодическую синхронизацию с внешним сервисом прогноза погоды по городам.
3. Отображение текущей погоды для всех городов (в общем списке) и прогноза на ближайшие дни (на отдельной странице).
4. Регистрацию пользователей, подтверждение email, подписку на прогноз погоды.

Структура проекта
---
Приложение состоит из следующих сервисов:
1. `web` - приложение Django.
2. `scheduler` - планировщик (синхронизация с внешним сервисом, рассылки).
3. `db` - БД PostgreSQL. 

web
-
Сервис `web` состоит из следующих модулей:
1. `accounts` - кастомная модель пользователя, управление аккаунтами пользователей.
2. `common` - общие модули, утилиты.
3. `external` - схемы и логика взаимодействия с внешним сервисом прогноза погоды.
4. `home` - основное приложение: страны, города, погода, сервис синхронизации прогноза погоды.
5. `weather` - корневой модуль: настройки, url.

Запускается скриптом `run/web.sh`. При запуске выполняются менеджмент-команды:
- `collectstatic` (штатная);
- `migrate` (штатная);
- `fill_cities` (заполнение списка городов);
- `default_admin` (создание дефолтной учётной записи админа - см. ниже).

scheduler
-
Сервис `scheduler` находится в файле `scheduler.py`.
Включает периодические задания:
- `update_weather_job` (синхронизация с внешним сервисом прогноза погоды);
- `mailing_list` (рассылка прогноза погода, по случайной выборке городов или другому алгоритму).  

Локальный запуск
-
1. Отредактировать переменные окружения в `.env` (EMAIL, WEATHER_API_KEY).
2. Собрать, запустить проект:

```shell
make build
make up
```
3. Для входа в админку (в браузере):
```shell
localhost:8000/admin
weather-admin
Weather!@#123
```

Технологии
---
1. `Django` (бэкенд, фронтенд)
2. `Postgres` (БД)
3. `Apscheduler` (планировщик периодических заданий)
4. `pydandic` (валидатор для структурирования результатов запросов к API)
5. `PyJWT` (верификация email с использованием JWT-токена)
6. `Pillow` (обработка изображений)
